<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Color Shake</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    margin: 0;
    font-family: system-ui, sans-serif;
    background: #111;
    color: #fff;
    text-align: center;
  }

  h1 { margin: 10px 0; }

  .row {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 16px 0;
  }

  .circle {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    border: 4px solid #fff;
  }

  .mix {
    position: relative;
    overflow: hidden;
  }

  .fill {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 0%;
    transition: height 0.05s linear;
  }

  button {
    padding: 16px;
    font-size: 16px;
    border-radius: 10px;
    border: none;
    width: 120px;
  }

  .controls {
    display: flex;
    justify-content: center;
    gap: 20px;
  }

  .result {
    margin-top: 10px;
    font-size: 18px;
  }
</style>
</head>
<body>

<h1>ðŸŽ¨ Color Mix</h1>
<div>Level <span id="level">1</span></div>

<div class="row">
  <div class="circle" id="target"></div>

  <div class="circle mix">
    <div class="fill" id="fill"></div>
  </div>
</div>

<div class="controls">
  <button id="colorA">Hold</button>
  <button id="colorB">Hold</button>
</div>

<button onclick="submit()">Submit</button>

<div class="result" id="result"></div>

<script>
let level = 1;
let target;
let mix = { r: 0, g: 0, b: 0 };
let volume = 0;
let pouring = null;

const POUR_RATE = 0.6;
const MAX_VOLUME = 100;

function randColor() {
  return {
    r: Math.random() * 255,
    g: Math.random() * 255,
    b: Math.random() * 255
  };
}

function rgb({ r, g, b }) {
  return `rgb(${r|0},${g|0},${b|0})`;
}

function startLevel() {
  document.getElementById("level").textContent = level;
  document.getElementById("result").textContent = "";

  target = randColor();
  document.getElementById("target").style.background = rgb(target);

  const a = randColor();
  const b = randColor();

  document.getElementById("colorA").style.background = rgb(a);
  document.getElementById("colorB").style.background = rgb(b);

  document.getElementById("colorA").dataset.color = JSON.stringify(a);
  document.getElementById("colorB").dataset.color = JSON.stringify(b);

  mix = { r: 0, g: 0, b: 0 };
  volume = 0;
  updateMix();
}

function pour(color) {
  if (volume >= MAX_VOLUME) return;

  const delta = POUR_RATE;
  mix.r = (mix.r * volume + color.r * delta) / (volume + delta);
  mix.g = (mix.g * volume + color.g * delta) / (volume + delta);
  mix.b = (mix.b * volume + color.b * delta) / (volume + delta);

  volume += delta;
  updateMix();
}

function updateMix() {
  document.getElem
